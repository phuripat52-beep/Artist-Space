<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArtSpace - ‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡πå</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <div id="intro-overlay">
        <canvas id="animCanvas"></canvas>
        <div class="skip-hint">‡∏Å‡∏î Spacebar ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</div>
    </div>
    <div id="main-site">
        </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <button id="admin-reset-btn" class="reset-btn-float hidden" onclick="systemReset()">
        <i class="fas fa-sync-alt"></i> ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö
    </button>

    <div id="auth-modal" class="modal">
        <div class="modal-box">
            <div class="close-modal" onclick="closeModal('auth-modal')"><i class="fas fa-times"></i></div>
            <h2 id="auth-title" style="margin-bottom: 20px; font-family: 'Prompt';">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
            <div id="login-section">
                <form onsubmit="handleLogin(event)">
                    <input type="email" id="loginEmail" class="form-control" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏• (admin@artspace.com)" required>
                    <input type="password" id="loginPass" class="form-control" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (admin888)" required>
                    <button type="submit" class="buy-btn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                </form>
                <p style="margin-top: 15px; font-size: 14px; color: var(--text-muted);">
                    ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? <span class="link-text" onclick="toggleAuth('register')">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</span>
                </p>
            </div>
            <div id="register-section" class="hidden">
                <form onsubmit="handleRegister(event)">
                    <input type="text" id="regName" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á" required>
                    <input type="email" id="regEmail" class="form-control" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" required>
                    <input type="password" id="regPass" class="form-control" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
                    <button type="submit" class="buy-btn" style="background: var(--success);">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</button>
                </form>
                <p style="margin-top: 15px; font-size: 14px; color: var(--text-muted);">
                    ‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡πâ‡∏ß? <span class="link-text" onclick="toggleAuth('login')">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</span>
                </p>
            </div>
        </div>
    </div>

    <div id="payment-modal" class="modal">
        <div class="modal-box">
            <div class="close-modal" onclick="closeModal('payment-modal')"><i class="fas fa-times"></i></div>
            <h2 style="margin-bottom: 10px; font-family: 'Prompt';">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
            <p style="color:var(--text-muted); margin-bottom:20px;" id="pay-item-name">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£: ...</p>
            <div class="bank-card">
                <div style="opacity:0.8; font-size:14px;">‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏≤‡∏£‡πå‡∏ï‡∏™‡πÄ‡∏õ‡∏ã</div>
                <div style="font-size:24px; font-weight:bold;">123-4-56789-0</div>
                <div>‡∏ö‡∏à‡∏Å. ‡∏≠‡∏≤‡∏£‡πå‡∏ï‡∏™‡πÄ‡∏õ‡∏ã ‡∏™‡∏ï‡∏π‡∏î‡∏¥‡πÇ‡∏≠</div>
            </div>
            <form onsubmit="confirmPayment(event)">
                <div style="text-align:left; font-size:14px; margin-bottom:5px; color:#aaa;">‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô:</div>
                <input type="file" id="pay-slip" class="form-control" accept="image/*" required>
                <div style="text-align:left; font-size:14px; margin-bottom:5px; color:#aaa;">‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞:</div>
                <input type="text" id="pay-amount" class="form-control" readonly style="background: #333; font-weight: bold; color:var(--accent);">
                <button type="submit" class="buy-btn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
            </form>
        </div>
    </div>

    <div id="edit-modal" class="modal">
        <div class="modal-box">
            <div class="close-modal" onclick="closeModal('edit-modal')"><i class="fas fa-times"></i></div>
            <h2 style="margin-bottom: 20px; font-family: 'Prompt';">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏•‡∏á‡∏≤‡∏ô</h2>
            <form onsubmit="confirmEdit(event)">
                <input type="hidden" id="edit-id">
                <label style="color:var(--text-muted);">‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡∏°‡πà (‡∏ö‡∏≤‡∏ó):</label>
                <input type="number" id="edit-price" class="form-control" required>
                <label style="color:var(--text-muted);">‡∏Ñ‡∏≥‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢ (Caption):</label>
                <textarea id="edit-caption" class="form-control" rows="4" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢..."></textarea>
                <button type="submit" class="buy-btn" style="background: var(--warning); color: #333;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            </form>
        </div>
    </div>

    <div id="success-modal" class="modal">
        <div class="modal-box">
            <div style="font-size: 50px; color: var(--success); margin-bottom: 20px;"><i class="fas fa-check-circle"></i></div>
            <h3>‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h3>
            <p style="color: var(--text-muted); margin-bottom: 30px;">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
            <button class="buy-btn" onclick="closeModal('success-modal')" style="background: var(--success);">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <div id="preview-modal" class="modal">
        <div class="preview-box">
            <div class="close-modal" onclick="closeModal('preview-modal')" style="z-index:100; color:#333; background:rgba(255,255,255,0.8); width:40px; height:40px; border-radius:50%; display:flex; justify-content:center; align-items:center; top:15px; right:15px;"><i class="fas fa-times"></i></div>
            <div class="preview-img">
                <img id="modal-img" src="" alt="">
            </div>
            <div class="preview-info">
                <h2 id="modal-title" class="preview-title">Title</h2>
                <div style="color:var(--text-muted); margin-bottom:20px; display:flex; align-items:center; gap:10px;">
                    <i class="fas fa-user-circle"></i> <span id="modal-artist">Artist</span>
                </div>
                <p id="modal-desc" style="color:var(--text-muted); line-height:1.6; margin-bottom:30px;"></p>
                <div id="modal-price" style="font-size:36px; color:var(--accent); font-weight:bold; font-family:'Prompt';">‡∏ø0</div>
                <button id="modal-buy-btn" class="buy-btn" onclick="openPayment()">‡∏ã‡∏∑‡πâ‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ</button>
                <a id="modal-download-btn" class="btn-download hidden" href="#" download>
                    <i class="fas fa-download"></i> &nbsp; ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ú‡∏•‡∏á‡∏≤‡∏ô
                </a>
            </div>
        </div>
    </div>

    <div id="main-site">
        <nav>
            <div class="logo" onclick="resetView()"><i class="fas fa-palette"></i> Art<span>Space</span></div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô, ‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏û..." onkeyup="searchGallery()">
            </div>
            <div id="guest-nav">
                <button class="btn-nav" onclick="openAuthModal()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                <button class="btn-nav btn-primary" onclick="openAuthModal('register')">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
            </div>
            <div id="user-nav" class="hidden" style="display: flex; align-items: center; gap: 15px;">
                <button class="btn-nav" id="my-studio-btn" onclick="openMyStudio()" style="border: 1px solid var(--accent); color: var(--accent);">
                    <i class="fas fa-store"></i> ‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
                </button>
                <div style="text-align:right;">
                    <div id="display-name" style="font-weight:bold;">User</div>
                    <div id="display-role" style="font-size:12px; color:var(--text-muted);">Member</div>
                    <div class="delete-account-btn" onclick="deleteAccount()">‡∏•‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</div>
                </div>
                <button class="btn-nav" onclick="logout()" style="color:var(--danger);"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </nav>

        <div class="hero reveal-element">
            <h1 id="hero-title">‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°<br><span>‡∏ó‡∏µ‡πà‡πÑ‡∏£‡πâ‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î</span></h1>
            <p id="hero-subtitle">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏®‡∏¥‡∏•‡∏õ‡∏∞ ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏≤‡∏ü‡∏ï‡πå‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
        </div>

        <section id="top-artists-section" class="top-artists-section reveal-element">
            <div class="section-header">
                <h2 class="section-title">üèÜ 3 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö <span>‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</span></h2>
            </div>
            <div class="top-grid" id="top-artists-grid"></div>
        </section>

        <div class="container">
            <div id="admin-panel" class="hidden" style="background:var(--card-bg); padding:20px; border-radius:15px; margin-bottom:30px; border:1px solid #333;">
                <h3>üõ°Ô∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Admin Only)</h3>
                <div id="user-list-container" style="margin-top:15px;"></div>
            </div>

            <div id="studio-panel" class="hidden" style="background:var(--card-bg); padding:20px; border-radius:15px; margin-bottom:30px; border:1px solid #333;">
                <div class="studio-tabs">
                    <div class="studio-tab active" id="tab-upload" onclick="switchStudioTab('upload')">üì§ ‡∏•‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢</div>
                    <div class="studio-tab" id="tab-collection" onclick="switchStudioTab('collection')">üõçÔ∏è ‡∏Ñ‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô (‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß)</div>
                </div>
                <form id="upload-form" onsubmit="handleUpload(event)" style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                    <input type="text" id="upTitle" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠" required style="margin:0; width:150px;">
                    <input type="number" id="upPrice" class="form-control" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" required style="margin:0; width:100px;">
                    <select id="upCategory" class="form-control" style="margin:0; width:120px;">
                        <option value="digital">Digital</option>
                        <option value="painting">Painting</option>
                        <option value="photo">Photo</option>
                    </select>
                    <input type="file" id="upImage" class="form-control" accept="image/*" required style="margin:0; width:200px;">
                    <button type="submit" class="btn-nav btn-primary" style="border:none;">‡πÇ‡∏û‡∏™‡∏ï‡πå</button>
                </form>
                <div id="collection-msg" class="hidden" style="text-align: center; color: var(--accent); padding: 20px;">
                    <i class="fas fa-heart"></i> ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô
                </div>
            </div>

            <div class="filters reveal-element">
                <button class="filter-btn active" onclick="filterGallery('all', this)">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                <button class="filter-btn" onclick="filterGallery('digital', this)">‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•</button>
                <button class="filter-btn" onclick="filterGallery('painting', this)">‡∏†‡∏≤‡∏û‡∏ß‡∏≤‡∏î</button>
                <button class="filter-btn" onclick="filterGallery('photo', this)">‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢</button>
                <button class="filter-btn" onclick="filterGallery('sold', this)" style="color:var(--danger); border-color:var(--danger);">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</button>
            </div>

            <div class="gallery-grid reveal-element" id="gallery"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>